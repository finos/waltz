<!--
  ~ Waltz - Enterprise Architecture
  ~ Copyright (C) 2016, 2017, 2018, 2019 Waltz open source project
  ~ See README.md for more information
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific
  ~
  -->

<div class="waltz-physical-flow-editor">
    <table class="waltz-field-table"
           style="width: 100%">
        <colgroup>
            <col width="30%">
            <col width="70%">
        </colgroup>
        <tr>
            <td class="wft-label">
                <label>Criticality</label>
            </td>
            <td>
                <waltz-editable-enum initial-val="$ctrl.physicalFlow.criticality"
                                     enum-kind="physicalFlowCriticality"
                                     on-save="$ctrl.onSaveCriticality"
                                     read-only="$ctrl.physicalFlow.isReadOnly">
                </waltz-editable-enum>
            </td>
        </tr>
        <tr>
            <td class="wft-label">
                <label>Transport</label>
            </td>
            <td>
                <waltz-editable-enum initial-val="$ctrl.physicalFlow.transport"
                                     enum-kind="TransportKind"
                                     on-save="$ctrl.onSaveTransport"
                                     read-only="$ctrl.physicalFlow.isReadOnly">
                </waltz-editable-enum>
            </td>
        </tr>
        <tr>
            <td class="wft-label">
                <label>Frequency</label>
            </td>
            <td>
                <waltz-editable-enum initial-val="$ctrl.physicalFlow.frequency"
                                     enum-kind="Frequency"
                                     on-save="$ctrl.onSaveFrequency"
                                     read-only="$ctrl.physicalFlow.isReadOnly">
                </waltz-editable-enum>
            </td>
        </tr>
        <tr>
            <td class="wft-label">
                <label>Basis Offset</label>
            </td>
            <td>
                <waltz-editable-field on-save="$ctrl.onSaveBasisOffset"
                                      field-type="text"
                                      read-only="$ctrl.physicalFlow.isReadOnly"
                                      initial-val="$ctrl.physicalFlow.basisOffset">
                </waltz-editable-field>
            </td>
        </tr>
        <tr>
            <td class="wft-label">
                <label>Tags</label>
            </td>
            <td>
                <waltz-tag-list ng-if="!$ctrl.visibility.tagEditor"
                                    keywords="$ctrl.tags">
                    <last>
                        <span class="small">
                            <a ng-click="$ctrl.onShowTagEditor()"
                               class="clickable">
                                update
                            </a>
                        </span>
                    </last>
                    <empty>
                        <i class="text-muted">
                            No tags defined,
                            <a class="clickable"
                               ng-click="$ctrl.onShowTagEditor()">
                                add one.
                            </a>
                        </i>
                    </empty>
                </waltz-tag-list>

                <waltz-tag-edit ng-if="$ctrl.visibility.tagEditor"
                                    keywords="$ctrl.tags"
                                    on-save="$ctrl.onSaveTags"
                                    on-cancel="$ctrl.onDismissTagEditor"
                                    entity-kind="$ctrl.parentEntityRef.kind">
                </waltz-tag-edit>
            </td>
        </tr>
        <tr>
            <td class="wft-label">
                <label>Description</label>
            </td>
            <td>
                <waltz-editable-field on-save="$ctrl.onSaveDescription"
                                      field-type="textarea"
                                      empty-label="Not provided"
                                      read-only="$ctrl.physicalFlow.isReadOnly"
                                      initial-val="$ctrl.physicalFlow.description">
                </waltz-editable-field>
            </td>
        </tr>
        <tr>
            <td class="wft-label">
                <label>External Identifiers</label>
            </td>
            <td>
                <waltz-external-identifier-editor-table physical-flow="$ctrl.physicalFlow"
                                                        editable=true>
                </waltz-external-identifier-editor-table>
            </td>
        </tr>
    </table>
</div>