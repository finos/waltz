<div class="waltz-rated-summary-table">
    <table class="table table-condensed">
        <colgroup>
            <col width="15%">
            <col width="20%">
            <col width="20%">
            <col width="20%">
            <col width="20%">
            <col width="5%">
        </colgroup>
        <thead>
        <tr>
            <th>Data Type</th>
            <th ng-click="$ctrl.columnClick($event, 'PRIMARY')">Primary</th>
            <th ng-click="$ctrl.columnClick($event, 'SECONDARY')">Secondary</th>
            <th ng-click="$ctrl.columnClick($event, 'DISCOURAGED')">Discouraged</th>
            <th ng-click="$ctrl.columnClick($event, 'NO_OPINION')">No Opinion</th>
            <th>Total</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="decorator in $ctrl.decorators"
            ng-click="$ctrl.rowClick($event, decorator)">
            <td>
                <span ng-bind="decorator.name">
                </span>
            </td>
            <td>
                <span ng-if="$ctrl.totalCounts[decorator.id]['PRIMARY'] > 0">
                    <waltz-rated-summary-cell direct-count="$ctrl.directCounts[decorator.id]['PRIMARY']"
                                              total-count="$ctrl.totalCounts[decorator.id]['PRIMARY']"
                                              rating="'PRIMARY'"
                                              max-count="$ctrl.maxCounts[decorator.id]"
                                              decorator="decorator"
                                              ng-click="$ctrl.cellClick($event, decorator, 'PRIMARY')"
                                              class="wrst-primary clickable">
                    </waltz-rated-summary-cell>
                </span>
            </td>
            <td>
                <span ng-if="$ctrl.totalCounts[decorator.id]['SECONDARY'] > 0">
                    <waltz-rated-summary-cell direct-count="$ctrl.directCounts[decorator.id]['SECONDARY']"
                                              total-count="$ctrl.totalCounts[decorator.id]['SECONDARY']"
                                              rating="'PRIMARY'"
                                              max-count="$ctrl.maxCounts[decorator.id]"
                                              decorator="decorator"
                                              ng-click="$ctrl.cellClick($event, decorator, 'SECONDARY')"
                                              class="wrst-secondary clickable">
                    </waltz-rated-summary-cell>
                </span>
            </td>
            <td>
                <span ng-if="$ctrl.totalCounts[decorator.id]['DISCOURAGED'] > 0">
                    <waltz-rated-summary-cell direct-count="$ctrl.directCounts[decorator.id]['DISCOURAGED']"
                                              total-count="$ctrl.totalCounts[decorator.id]['DISCOURAGED']"
                                              rating="'PRIMARY'"
                                              max-count="$ctrl.maxCounts[decorator.id]"
                                              decorator="decorator"
                                              ng-click="$ctrl.cellClick($event, decorator, 'DISCOURAGED')"
                                              class="wrst-discouraged clickable">
                    </waltz-rated-summary-cell>
                </span>
            </td>
            <td>
                <span ng-if="$ctrl.totalCounts[decorator.id]['NO_OPINION'] > 0">
                    <waltz-rated-summary-cell direct-count="$ctrl.directCounts[decorator.id]['NO_OPINION']"
                                              total-count="$ctrl.totalCounts[decorator.id]['NO_OPINION']"
                                              rating="'PRIMARY'"
                                              max-count="$ctrl.maxCounts[decorator.id]"
                                              decorator="decorator"
                                              ng-click="$ctrl.cellClick($event, decorator, 'NO_OPINION')"
                                              class="wrst-no-opinion clickable">
                    </waltz-rated-summary-cell>
                </span>
            </td>
            <td>
                <span class='small text-muted'
                      ng-bind="$ctrl.maxCounts[decorator.id]">
                </span>
            </td>
        </tr>
        </tbody>
    </table>
</div>