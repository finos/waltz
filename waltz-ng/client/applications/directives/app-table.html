<div>
    <div class="row">
        <div class="col-md-9">
            <div style="font-size: smaller; height: 300px"
                 ui-grid-exporter
                 ui-grid="ctrl.gridOptions">
            </div>
        </div>
        <div class="col-md-3">
            <div ng-if="ctrl.selectedApp" class="panel panel-warning small">
                <div class="panel-heading">
                    <h5 class="panel-title"><strong>Details</strong></h5>
                </div>
                <div class="panel-body">
                    <p>
                        <span ng-bind="ctrl.selectedApp.description"></span>
                    </p>
                    <h6 ng-if="ctrl.selectedApp.roles" uib-tooltip="This persons role(s) on the application">
                        <strong>Role(s): </strong>
                        <span ng-repeat="role in ctrl.selectedApp.roles">
                            <span ng-bind="role | toDisplayName:'involvementKind'"></span><span ng-if="!$last">, </span>
                        </span>
                    </h6>
                    <h6 ng-if="ctrl.selectedApp.assetCode">
                        <strong>Asset code: </strong> {{ctrl.selectedApp.assetCode}}
                    </h6>
                    <h6 ng-if="ctrl.selectedApp.platform">
                        <strong>Platform: </strong> {{ctrl.selectedApp.platform}}
                    </h6>
                    <h6 ng-if="ctrl.selectedApp.riskRating">
                        <strong>Risk Rating: </strong> {{ctrl.selectedApp.riskRating | toDisplayName:'riskRating'}}
                    </h6>
                    <h6>
                        <strong>Managed by: </strong> {{ctrl.selectedApp.management}}
                    </h6>
                    <div ng-if="ctrl.selectedApp.management == 'IT'">
                        <strong>
                            <a class="pull-right" ui-sref="main.app.view ({ id: ctrl.selectedApp.id })">more</a>
                        </strong>
                    </div>
                    <div ng-if="ctrl.selectedApp.management == 'End User'">
                        <small>
                            <waltz-icon name="exclamation-triangle"
                                        size="lg">
                            </waltz-icon>
                            This is an end user application and has limited information presently.
                        </small>
                    </div>
                </div>
            </div>
            <div class="alert alert-warning" ng-if="!ctrl.selectedApp">
                Select an application to view further details
            </div>
        </div>
    </div>
</div>

