<div>
    <waltz-page-header name="{{ ctrl.statistic.definition.name }}"
                       small="Indicator"
                       icon="pie-chart">
        <ol class="waltz-breadcrumbs">
            <li><a ui-sref="main">Home</a></li>
            <li>
                <a ng-click="ctrl.goToParent()"
                   class="clickable"
                   ng-bind="ctrl.selectedNavItem.name">
                </a>
            </li>
            <li>Indicators</li>
            <li ng-bind="ctrl.statistic.definition.name"></li>
        </ol>
    </waltz-page-header>

    <div class="waltz-page-summary waltz-page-summary-attach">

        <div class="row">
            <!-- SUMMARY -->
            <div class="col-md-8"
                 style="border-right: 2px solid #eee">
                <waltz-entity-statistic-detail-panel definition='ctrl.statistic.definition'
                                                     summary="ctrl.statistic.summary"
                                                     values="ctrl.statistic.values">
                </waltz-entity-statistic-detail-panel>
            </div>

            <!-- NAV -->
            <div class="col-md-4" >
                <h4>
                    <waltz-icon fixed-width="true"
                                size="lg"
                                name="{{ ctrl.parentRef.kind | toIconName:'entity' }}">
                    </waltz-icon>
                    <span ng-bind="ctrl.parentRef.kind | toDisplayName:'entity'"></span>
                    <small>Selector</small>
                </h4>
                <waltz-entity-hierarchy-navigator model="ctrl.navItems"
                                                  selected-node="ctrl.selectedNavItem"
                                                  on-select="ctrl.onSelectNavItem">
                </waltz-entity-hierarchy-navigator>

                <p class="waltz-paragraph small text-muted"
                   style="padding-top: 12px">
                    Use the navigational tree above to select a vantage point to view
                    this statistic from.
                </p>
            </div>

        </div>


        <div class="row"
             ng-if="ctrl.visibility.related">
            <!-- RELATED -->
            <div class="col-md-12">
                <hr>
                <h3>Related Indicators</h3>
                <waltz-related-entity-statistics-summaries definitions='ctrl.relatedDefinitions'
                                                           parent-ref="ctrl.parentRef"
                                                           summaries="ctrl.summaries">
                </waltz-related-entity-statistics-summaries>
            </div>
        </div>

    </div>


    <br>

    <!-- BOOKMARKS -->
    <waltz-bookmarks-section bookmarks="ctrl.bookmarks"
                             entity-id="{{ ctrl.statistic.definition.id }}"
                             kind="ENTITY_STATISTIC"
                             parent-name="{{ ctrl.statistic.definition.name }}"
                             source-data-ratings="ctrl.sourceDataRatings">
    </waltz-bookmarks-section>

</div>
