<div>
    <waltz-section name="People"
                   icon="users"
                   small="( {{$ctrl.involvements.length}} )"
                   id="involved-people-section">

        <waltz-section-actions>
            <button ng-click="$ctrl.exportGrid()"
                    class="btn btn-xs btn-primary"
                    ng-disabled="$ctrl.gridDataCount == 0">
                Export
            </button>
            <button class="btn btn-xs waltz-btn-transparent"
                    ng-click="$ctrl.sourceDataOverlay = ! $ctrl.sourceDataOverlay">
                <waltz-icon name="map-signs"></waltz-icon>
            </button>
        </waltz-section-actions>

        <waltz-source-data-overlay visible="$ctrl.sourceDataOverlay"
                                   ratings="$ctrl.sourceDataRatings"
                                   entities="['INVOLVEMENT']"
                                   on-dismiss="$ctrl.dismissSourceDataOverlay">
        </waltz-source-data-overlay>

        <div ng-if="$ctrl.gridData.length > 0">
            <waltz-grid-with-search column-defs="$ctrl.columnDefs"
                                    entries="$ctrl.gridData"
                                    search-placeholder-text="Search people..."
                                    on-initialise="$ctrl.onGridInitialise"
                                    on-change="$ctrl.onGridChange">
            </waltz-grid-with-search>
        </div>


        <waltz-no-data ng-if="$ctrl.involvements.length == 0">
            <message>
                <strong>
                    No people
                </strong>
                have been associated.
            </message>
        </waltz-no-data>

    </waltz-section>
</div>

