<div>
    <waltz-section icon="bookmark-o"
                   name="Bookmarks"
                   small="( {{ctrl.bookmarks.length}} )"
                   id="bookmarks-section">
        <waltz-section-actions>
            <a waltz-has-role="BOOKMARK_EDITOR"
               ui-sref="main.bookmarks.edit ({ entityId: ctrl.entityId, kind: ctrl.kind, parentName:ctrl.parentName })"
               class="btn btn-xs btn-primary">
                Edit
            </a>
            <button class="btn btn-xs waltz-btn-transparent"
                    ng-click="ctrl.sourceDataOverlay = ! ctrl.sourceDataOverlay">
                <waltz-icon name="map-signs"></waltz-icon>
            </button>
        </waltz-section-actions>

        <waltz-source-data-overlay visible="ctrl.sourceDataOverlay"
                                   ratings="ctrl.sourceDataRatings"
                                   entities="['BOOKMARK']">
        </waltz-source-data-overlay>

        <div class="row"
             ng-if="ctrl.bookmarks.length > 0">
            <div class="col-md-6"
                 ng-repeat="(kind, bookmarks) in ctrl.bookmarksByKind">
                <waltz-bookmark-card bookmarks="bookmarks"
                                     kind="kind">
                </waltz-bookmark-card>
            </div>
        </div>

        <div class="alert alert-warning"
             ng-if="ctrl.bookmarks.length == 0">
            <strong>
                No bookmarks
            </strong>
            for this
            <span ng-bind="ctrl.kind | toDisplayName:'entity'">
            </span>
            .
        </div>
    </waltz-section>
</div>

